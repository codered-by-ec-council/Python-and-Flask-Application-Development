{% extends 'base.html' %}

{% block content %}
<div class="container">
<h3>Hello {{ current_user}}!</h3>
</div>
<ol class="list-group list-group-numbered">
{% for post in posts %}
<li class="list-group-item d-flex justify-content-between align-items-start">
    <div class="ms-2 me-auto">
      <div class="fw-bold">{{post.title}}</div>
      {{post.content}}
    </div>
    <span class="badge bg-primary rounded-pill">{{post.comments.count()}} :Comments</span>
    {% if post.is_draft %}
        <a href="{{url_for('publish', id=post.id)}}" class="btn btn-success">Publish</a>
    {% else %}
        <a href="{{url_for('publish', id=post.id)}}" class="btn btn-danger">Unpublish</a>
    {% endif %}
  </li>
{% else %}
<h1>No Posts Available yet</h1>
{% endfor %}
</ol>
{% endblock content %}

